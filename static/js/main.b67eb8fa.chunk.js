(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{24:function(e,t,i){"use strict";i.r(t);var n=i(2),c=i(13),s=i.n(c),a=i(0);var d=function(){return Object(a.jsx)("header",{})},o=i(11),r=i(12),u=i(5);function m(e){return Object(a.jsx)("div",{className:"inline",children:Object(a.jsx)("button",{onClick:function(){return e.toggleActive(e.pad.id)},className:e.pads[e.i].isActive?"drumpad pressed":"drumpad",children:Object(a.jsx)("img",{id:e.pad.name,className:"drumpad-img",src:e.pad.imgURL,alt:e.pad.alt})})})}var j=[{id:"kick",key:"kick",imgURL:"images/bass-drum.png",alt:"kick-img",letter:"B",soundURL:"sounds/newexp/KICK.mp3",isActive:!1},{id:"snare",key:"snare",imgURL:"images/006-drum-1.png",alt:"snare-img",letter:"G",soundURL:"sounds/newexp/SNARE.mp3",isActive:!1},{id:"tom1",key:"tom1",imgURL:"images/008-drum-2.png",alt:"tom1-img",letter:"S",soundURL:"sounds/newexp/TOM1.mp3",isActive:!1},{id:"tom2",key:"tom2",imgURL:"images/011-drum-3.png",alt:"tom2-img",letter:"D",soundURL:"sounds/newexp/TOM2.mp3",isActive:!1},{id:"tom3",key:"tom3",imgURL:"images/005-drum.png",alt:"tom3-img",letter:"F",soundURL:"sounds/newexp/TOM3.mp3",isActive:!1},{id:"clap",key:"clap",imgURL:"images/clapping.png",alt:"clap-img",letter:"V",soundURL:"sounds/newexp/CLAP.mp3",isActive:!1},{id:"closedhihat",key:"closedhihat",imgURL:"images/004-tambourine.png",alt:"closedhihat-img",letter:"N",soundURL:"sounds/newexp/HH.mp3",isActive:!1},{id:"cymb",key:"cymb",imgURL:"images/007-cymbal.png",alt:"crash-img",letter:"H",soundURL:"sounds/newexp/CYMB.mp3",isActive:!1},{id:"shaker",key:"shaker",imgURL:"images/003-maracas.png",alt:"shaker-img",letter:"M",soundURL:"sounds/newexp/SHAKER.mp3",isActive:!1}],l=i(10),p=i(9);function b(){var e=Object(n.useState)(j.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{audioObj:new Audio(e.soundURL)})}))),t=Object(u.a)(e,2),i=t[0],c=t[1],s=Object(n.useState)(""),d=Object(u.a)(s,2),b=d[0],O=d[1],f=Object(n.useState)([]),g=Object(u.a)(f,2),v=g[0],h=g[1],x=Object(n.useState)(!1),A=Object(u.a)(x,2),k=A[0],L=A[1];Object(n.useEffect)((function(){var e=i.findIndex((function(e){return e.id===b}));if(-1!==e){var t=Object(o.a)(i);t[e].isActive=!t[e].isActive,c(t),O("")}}),[b]),Object(n.useEffect)((function(){i.some((function(e){return e.isActive}))?L(!0):L(!1),h(i.filter((function(e){return e.isActive&&e})))}),[i]),Object(n.useEffect)((function(){var e,t;(i.forEach((function(e){return!e.isActive&&y(e.audioObj)})),k)?(1===v.length&&(t=v[0],U(t.audioObj),t.audioObj.addEventListener("ended",(function(){console.log("ended"),i.forEach((function(e){e.isActive&&U(e.audioObj)}))}),!1)),(null===(e=t)||void 0===e?void 0:e.isActive)||i.find((function(e){return e.isActive})).audioObj.addEventListener("ended",(function(){i.forEach((function(e){e.isActive&&U(e.audioObj)}))}),!1)):R()}),[v]);var R=function(){i.forEach((function(e){e.audioObj.pause(),e.audioObj.currentTime=0}))},y=function(e){e.pause(),e.currentTime=0},U=function(e){e.play()};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"drums",children:i.map((function(e,t){return Object(a.jsx)(m,{i:t,pads:Object(o.a)(i),pad:e,toggleActive:function(e){return O(e)}},e.key)}))}),Object(a.jsxs)("div",{className:"controller",children:[Object(a.jsxs)("div",{className:"ctrlBtn",onClick:function(){i.forEach((function(e){return!e.isActive&&y(e.audioObj)})),v.forEach((function(e){e.isActive&&(e.audioObj.play(),e.audioObj.addEventListener("ended",(function(){U(e.audioObj)}),!1))}))},children:[Object(a.jsx)(p.a,{className:"icon",icon:l.a}),"Play"]}),Object(a.jsxs)("div",{className:"ctrlBtn",onClick:R,children:[Object(a.jsx)(p.a,{className:"icon",icon:l.b}),"Stop"]})]})]})}function O(){return Object(a.jsx)(b,{})}function f(){return Object(a.jsx)("div",{children:Object(a.jsx)("footer",{children:Object(a.jsx)("p",{children:"created by Dorran Gavish"})})})}var g=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(d,{}),Object(a.jsx)(O,{}),Object(a.jsx)(f,{})]})};s.a.render(Object(a.jsx)(g,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.b67eb8fa.chunk.js.map